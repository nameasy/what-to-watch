Vue.createApp({data:()=>({movies:[],searchQuery:"",typeFilter:"",yearFilter:"",genreFilter:"",countryFilter:"",sortDirection:"asc"}),mounted(){this.fetchMovies()},computed:{filteredMovies(){return this.movies.filter(e=>e.title.toLowerCase().includes(this.searchQuery.toLowerCase())&&e.type.includes(this.typeFilter)&&e.year.includes(this.yearFilter)&&e.genre.includes(this.genreFilter)&&e.country.includes(this.countryFilter))},uniqueTypes(){return Array.from(new Set(this.movies.map(e=>e.type)))},uniqueYears(){return Array.from(new Set(this.movies.flatMap(e=>e.year.split("-"))))},uniqueGenres(){return Array.from(new Set(this.movies.flatMap(e=>e.genre.split(", "))))},uniqueCountries(){return Array.from(new Set(this.movies.flatMap(e=>e.country.split(", "))))}},methods:{fetchMovies(){fetch("./data.json").then(e=>e.json()).then(e=>{let{movies:t}=e;this.movies=t}).catch(e=>{console.log(e)})},sortByName(){"asc"===this.sortDirection?(this.sortDirection="desc",this.movies.sort((e,t)=>{let r=e.title.toLowerCase();return t.title.toLowerCase().localeCompare(r)})):(this.sortDirection="asc",this.movies.sort((e,t)=>{let r=e.title.toLowerCase(),i=t.title.toLowerCase();return r.localeCompare(i)}))}}}).mount(".page");